<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.269">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Time Series sfdsasdasd - ARMA/ARIMA/SARIMA Models</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>


<link rel="stylesheet" href="styles/layout.css">
<link rel="stylesheet" href="./styles/layout.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Time Series sfdsasdasd</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./about.html">
 <span class="menu-text">ABOUT ME</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./Introduction.html">
 <span class="menu-text">Introduction</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./DataSources.html">
 <span class="menu-text">Data Sources</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./DataVis.html">
 <span class="menu-text">Data Visualization</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./EDA.html">
 <span class="menu-text">Exploratory Data Analysis</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="./ARModels.html" aria-current="page">
 <span class="menu-text">ARMA/ARIMA/SARIMA Models</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./ASV.html">
 <span class="menu-text">ARIMAX/SARIMAX/VAR</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./SAF.html">
 <span class="menu-text">Spectral Analysis and Filtering</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./GARCH.html">
 <span class="menu-text">Financial Time Series Models (ARCH/GARCH)</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./TS.html">
 <span class="menu-text">Deep Learning for TS</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./conclusion.html">
 <span class="menu-text">Conclusions</span></a>
  </li>  
</ul>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#the-household-income-data-analysis" id="toc-the-household-income-data-analysis" class="nav-link active" data-scroll-target="#the-household-income-data-analysis">The Household Income Data Analysis</a>
  <ul class="collapse">
  <li><a href="#acf-pacf" id="toc-acf-pacf" class="nav-link" data-scroll-target="#acf-pacf">ACF &amp; PACF</a></li>
  <li><a href="#validation-with-adf-test" id="toc-validation-with-adf-test" class="nav-link" data-scroll-target="#validation-with-adf-test">Validation with ADF Test</a></li>
  <li><a href="#detrended-and-log-transformed" id="toc-detrended-and-log-transformed" class="nav-link" data-scroll-target="#detrended-and-log-transformed">Detrended and Log-transformed</a></li>
  <li><a href="#test-it-stationary-again" id="toc-test-it-stationary-again" class="nav-link" data-scroll-target="#test-it-stationary-again">Test it stationary again</a></li>
  <li><a href="#make-it-stationary-by-using-differencing" id="toc-make-it-stationary-by-using-differencing" class="nav-link" data-scroll-target="#make-it-stationary-by-using-differencing">Make it Stationary by using differencing</a></li>
  <li><a href="#third-differencing" id="toc-third-differencing" class="nav-link" data-scroll-target="#third-differencing">Third Differencing</a></li>
  <li><a href="#evaluate-the-values-for-p-q" id="toc-evaluate-the-values-for-p-q" class="nav-link" data-scroll-target="#evaluate-the-values-for-p-q">Evaluate the values for p &amp; q</a></li>
  <li><a href="#fit-model" id="toc-fit-model" class="nav-link" data-scroll-target="#fit-model">Fit Model</a></li>
  <li><a href="#equation-of-the-model" id="toc-equation-of-the-model" class="nav-link" data-scroll-target="#equation-of-the-model">Equation of the Model</a></li>
  <li><a href="#model-diagnostics" id="toc-model-diagnostics" class="nav-link" data-scroll-target="#model-diagnostics">Model diagnostics</a></li>
  <li><a href="#model-compare" id="toc-model-compare" class="nav-link" data-scroll-target="#model-compare">Model Compare</a></li>
  <li><a href="#forecasting-for-the-dataset-using-the-best-parameters" id="toc-forecasting-for-the-dataset-using-the-best-parameters" class="nav-link" data-scroll-target="#forecasting-for-the-dataset-using-the-best-parameters">Forecasting for the dataset using the best parameters</a></li>
  <li><a href="#benchmark" id="toc-benchmark" class="nav-link" data-scroll-target="#benchmark">BENCHMARK</a></li>
  </ul></li>
  <li><a href="#the-median-house-sale-price-data-analysis" id="toc-the-median-house-sale-price-data-analysis" class="nav-link" data-scroll-target="#the-median-house-sale-price-data-analysis">The Median House Sale Price Data Analysis</a>
  <ul class="collapse">
  <li><a href="#acf-pacf-1" id="toc-acf-pacf-1" class="nav-link" data-scroll-target="#acf-pacf-1">ACF &amp; PACF</a></li>
  <li><a href="#validation-with-adf-test-1" id="toc-validation-with-adf-test-1" class="nav-link" data-scroll-target="#validation-with-adf-test-1">Validation with ADF Test</a></li>
  <li><a href="#detrended-and-log-transformed-1" id="toc-detrended-and-log-transformed-1" class="nav-link" data-scroll-target="#detrended-and-log-transformed-1">Detrended and Log-transformed</a></li>
  <li><a href="#test-it-stationary-again-1" id="toc-test-it-stationary-again-1" class="nav-link" data-scroll-target="#test-it-stationary-again-1">Test it stationary again</a></li>
  <li><a href="#make-it-stationary-by-using-differencing-1" id="toc-make-it-stationary-by-using-differencing-1" class="nav-link" data-scroll-target="#make-it-stationary-by-using-differencing-1">Make it Stationary by using differencing</a></li>
  <li><a href="#fit-model-1" id="toc-fit-model-1" class="nav-link" data-scroll-target="#fit-model-1">Fit model</a></li>
  <li><a href="#equation-of-the-model-1" id="toc-equation-of-the-model-1" class="nav-link" data-scroll-target="#equation-of-the-model-1">Equation of the Model</a></li>
  <li><a href="#model-diagnostics-1" id="toc-model-diagnostics-1" class="nav-link" data-scroll-target="#model-diagnostics-1">Model diagnostics</a></li>
  <li><a href="#model-compare-1" id="toc-model-compare-1" class="nav-link" data-scroll-target="#model-compare-1">Model Compare</a></li>
  <li><a href="#forecasting-for-the-dataset" id="toc-forecasting-for-the-dataset" class="nav-link" data-scroll-target="#forecasting-for-the-dataset">Forecasting for the dataset</a></li>
  <li><a href="#benchmark-1" id="toc-benchmark-1" class="nav-link" data-scroll-target="#benchmark-1">BENCHMARK</a></li>
  </ul></li>
  <li><a href="#references-and-codes" id="toc-references-and-codes" class="nav-link" data-scroll-target="#references-and-codes">References and Codes</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">ARMA/ARIMA/SARIMA Models</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<p>After Exploratory Data Analysis (EDA), we are going to have a deeper understanding of the time series data by applying different models. This section involves multiple medthods and datasets with different models such as ARMA, ARIMA, SARIMA for us to gain insights and understandings such as ACF, PACF, ADF tests, differencing, and comparision. For these methods, we are going to identify correlations, stationaries, and performance evaluation.</p>
<p>To be more specific, we need to understand the concepts about the models: Certainly! Hereâ€™s a brief overview of the ARMA, ARIMA, and SARIMA models with their associated equations:</p>
<ol type="1">
<li><p><strong>ARMA</strong>:</p>
<ul>
<li><strong>Components</strong>:
<ul>
<li><strong>AR(p)</strong>: AutoRegressive term of order ( p ). It describes the relationship of the current observation with its previous values.</li>
<li><strong>MA(q)</strong>: Moving Average term of order ( q ). It captures the relationship between an observation and the white noise or error terms from previous time points.</li>
</ul></li>
<li><strong>Equation</strong>: [ X_t = c + <em>1X</em>{t-1} + <em>2X</em>{t-2} + + <em>pX</em>{t-p} + <em>1a</em>{t-1} + <em>2a</em>{t-2} + + <em>qa</em>{t-q} + a_t ] where ( a_t ) is white noise.</li>
</ul></li>
<li><p><strong>ARIMA</strong>:</p>
<ul>
<li><strong>Components</strong>:
<ul>
<li><strong>AR(p)</strong>: AutoRegressive term.</li>
<li><strong>I(d)</strong>: Integrated term of order ( d ). It represents the number of differences needed to make the series stationary.</li>
<li><strong>MA(q)</strong>: Moving Average term.</li>
</ul></li>
<li><strong>Equation</strong>: Once the series is differenced ( d ) times and becomes stationary, its ARIMA representation becomes the same as ARMA, but applied to the differenced series.</li>
</ul></li>
<li><p><strong>SARIMA</strong>:</p>
<ul>
<li><strong>Components</strong>:
<ul>
<li><strong>AR(p)</strong>: AutoRegressive term.</li>
<li><strong>I(d)</strong>: Integrated term.</li>
<li><strong>MA(q)</strong>: Moving Average term.</li>
<li><strong>SAR(P)</strong>: Seasonal AutoRegressive term of order ( P ).</li>
<li><strong>SI(D)</strong>: Seasonal Integrated term of order ( D ). It indicates the number of seasonal differences required.</li>
<li><strong>SMA(Q)</strong>: Seasonal Moving Average term of order ( Q ).</li>
</ul></li>
<li><strong>Equation</strong>: The SARIMA model combines both non-seasonal and seasonal components. Once both seasonal and non-seasonal differencing are applied (if needed), the SARIMA equation becomes an extension of the ARMA equation but with additional seasonal terms. [ X_t = c + <em>1X</em>{t-1} + + <em>pX</em>{t-p} + <em>1a</em>{t-1} + + <em>qa</em>{t-q} + <em>1X</em>{t-P} + + <em>PX</em>{t-PS} + <em>1a</em>{t-Q} + + <em>Qa</em>{t-QS} + a_t ] where ( S ) represents the seasonal period and ( a_t ) is white noise.</li>
</ul></li>
</ol>
<section id="the-household-income-data-analysis" class="level2">
<h2 class="anchored" data-anchor-id="the-household-income-data-analysis">The Household Income Data Analysis</h2>
<p>Due to the differencing methods should be used when the dataset is not stationary. Here, as in EDA section, the household income data analysis provides results that this dataset is not stationary. To have a brief recap, I have provided the orginal dataset and the acf and pacf plots.</p>
<div class="cell">

</div>
<div class="cell">

</div>
<div class="cell">
<div class="cell-output-display">
<p><img src="ARModels_files/figure-html/unnamed-chunk-3-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<section id="acf-pacf" class="level3">
<h3 class="anchored" data-anchor-id="acf-pacf">ACF &amp; PACF</h3>
<div class="cell">
<div class="cell-output-display">
<p><img src="ARModels_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="ARModels_files/figure-html/unnamed-chunk-4-2.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>From here, we can see that the dataset has a correlation, which also means that it is not stationary. In order to prove this conclusion, we utilize the adf test to ensure the results are the same.</p>
</section>
<section id="validation-with-adf-test" class="level3">
<h3 class="anchored" data-anchor-id="validation-with-adf-test">Validation with ADF Test</h3>
<div class="cell">
<div class="cell-output cell-output-stderr">
<pre><code>Warning in adf.test(df$W398RC1A027NBEA): p-value greater than printed p-value</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
    Augmented Dickey-Fuller Test

data:  df$W398RC1A027NBEA
Dickey-Fuller = 0.038046, Lag order = 3, p-value = 0.99
alternative hypothesis: stationary</code></pre>
</div>
</div>
<p>Based on the result, we can see that the p-value is greater than the thershold value, this means that we fail to reject the Null hypothesis. The time series dataset is not stationary.</p>
<p>Then, to explore more, we utilize detrended and log-transformation to see about the patterns</p>
</section>
<section id="detrended-and-log-transformed" class="level3">
<h3 class="anchored" data-anchor-id="detrended-and-log-transformed">Detrended and Log-transformed</h3>
<div class="cell">
<div class="cell-output-display">
<p><img src="ARModels_files/figure-html/unnamed-chunk-6-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<p><img src="ARModels_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>From here, we can see that after detrending and transforming, the household income remains fluctuations espectially during 2020 period, which could be the cause of the Covid-19. In addition, Log-transformed time series, in order to remove the hetroscadastisity, we can see that the trend remains. I think the reason is possibly because log-transformation can assuage issues related to non-constant variance, which means that the inherent trend within the data may persist.</p>
</section>
<section id="test-it-stationary-again" class="level3">
<h3 class="anchored" data-anchor-id="test-it-stationary-again">Test it stationary again</h3>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>
    Augmented Dickey-Fuller Test

data:  log_transformed_data$LogTransformed
Dickey-Fuller = -1.934, Lag order = 3, p-value = 0.598
alternative hypothesis: stationary</code></pre>
</div>
</div>
<p>After the detrending and transformating, we can see that it is still not statinary. Which means that further action still needs to be done. I utilize differencing methods.</p>
<div class="cell">

</div>
</section>
<section id="make-it-stationary-by-using-differencing" class="level3">
<h3 class="anchored" data-anchor-id="make-it-stationary-by-using-differencing">Make it Stationary by using differencing</h3>
<p>We will try the second order differencing to see the result since the dataset seems to be overly not stationary.</p>
<div class="cell">

</div>
<div class="cell">
<div class="cell-output-display">
<p><img src="ARModels_files/figure-html/unnamed-chunk-11-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>After the second orders of differencing, we can see the changes regarding the plots as a whole.</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>
    Augmented Dickey-Fuller Test

data:  diff(df$W398RC1A027NBEA, differences = 2)
Dickey-Fuller = -2.9811, Lag order = 3, p-value = 0.1972
alternative hypothesis: stationary</code></pre>
</div>
</div>
<p>However, the second order of differencing still cannot make it stationary. We need to do more. However, we should reach the limit with the third order since we do not want to over differencing the dataset.</p>
</section>
<section id="third-differencing" class="level3">
<h3 class="anchored" data-anchor-id="third-differencing">Third Differencing</h3>
<div class="cell">
<div class="cell-output-display">
<p><img src="ARModels_files/figure-html/unnamed-chunk-13-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>
    Augmented Dickey-Fuller Test

data:  diff(df$W398RC1A027NBEA, differences = 3)
Dickey-Fuller = -5.488, Lag order = 2, p-value = 0.01
alternative hypothesis: stationary</code></pre>
</div>
</div>
<p>Now, as we can see, the p-value is now smaller than the significant level. The dataset is stationary.</p>
</section>
<section id="evaluate-the-values-for-p-q" class="level3">
<h3 class="anchored" data-anchor-id="evaluate-the-values-for-p-q">Evaluate the values for p &amp; q</h3>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>
Autocorrelations of series 'diff_series', by lag

     0      1      2      3      4      5      6      7      8      9     10 
 1.000 -0.340 -0.006  0.060 -0.087 -0.038  0.241 -0.349  0.214 -0.036 -0.050 
    11     12     13     14 
 0.007  0.065 -0.115  0.150 </code></pre>
</div>
<div class="cell-output-display">
<p><img src="ARModels_files/figure-html/unnamed-chunk-15-1.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
Partial autocorrelations of series 'diff_series', by lag

     1      2      3      4      5      6      7      8      9     10     11 
-0.340 -0.137  0.013 -0.069 -0.100  0.211 -0.232  0.062 -0.004 -0.007 -0.053 
    12     13     14 
 0.017  0.015  0.007 </code></pre>
</div>
<div class="cell-output-display">
<p><img src="ARModels_files/figure-html/unnamed-chunk-15-2.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>From the PACF plot, it seems that after the 1st lag, the correlation values drop into insignificance. Thus, we might consider p = 1 for the AR component. From the ACF plot you provided, the correlation seems to cut off after the 1st lag as well. Hence, you might consider q = 2 for the MA component. And we use d = 3 since we utilized third orders of differencing.</p>
</section>
<section id="fit-model" class="level3">
<h3 class="anchored" data-anchor-id="fit-model">Fit Model</h3>
<p>After we determing our parameters, we can start fitting the models.</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>Series: diff 
ARIMA(1,3,2) 

Coefficients:
          ar1      ma1     ma2
      -0.7911  -1.8982  0.9996
s.e.   0.2096   0.4024  0.4155

sigma^2 = 919174:  log likelihood = -202.53
AIC=413.07   AICc=415.17   BIC=417.78

Training set error measures:
                    ME     RMSE      MAE      MPE     MAPE     MASE       ACF1
Training set -104.3663 845.5254 428.3458 153.1425 163.6866 0.695587 -0.3066825</code></pre>
</div>
</div>
<p>From here, we get a summary about the aic and bic values.</p>
</section>
<section id="equation-of-the-model" class="level3">
<h3 class="anchored" data-anchor-id="equation-of-the-model">Equation of the Model</h3>
<p>Given the specified values (p = 1), (q = 2), and (d = 3), we can write out the ARIMA(1,3,2) model equation using the general equation based on the results of the model:</p>
<p>[ X_t = c + <em>1X</em>{t-1} + <em>1a</em>{t-1} + <em>2a</em>{t-2} + a_t ]</p>
<p>In my case the third difference is represented as ( ^3 Y_t = Y_t - 0.7911Y_{t-1} - 1.8982Y_{t-2} + 0.9996Y_{t-3} ). The ARIMA equation provided is built upon this differenced series.</p>
</section>
<section id="model-diagnostics" class="level3">
<h3 class="anchored" data-anchor-id="model-diagnostics">Model diagnostics</h3>
<p>Model diagnostics are very important for us to determine the performance of the parameters we choose. By setting different parameters, we can have a more general view and understanding regarding the model.</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="ARModels_files/figure-html/unnamed-chunk-17-1.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
arima(x = arma14, order = c(p, 3, q))

Coefficients:
          ar1      ma1      ma2
      -0.4402  -0.2544  -0.0395
s.e.   0.0377   0.0394   0.0262

sigma^2 estimated as 1.003:  log likelihood = -14202.19,  aic = 28412.39</code></pre>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<table class="table table-sm table-striped">
<thead>
<tr class="header">
<th style="text-align: right;">p</th>
<th style="text-align: right;">d</th>
<th style="text-align: right;">q</th>
<th style="text-align: right;">AIC</th>
<th style="text-align: right;">BIC</th>
<th style="text-align: right;">AICc</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">2</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">422.0558</td>
<td style="text-align: right;">430.2596</td>
<td style="text-align: right;">425.8740</td>
</tr>
<tr class="even">
<td style="text-align: right;">2</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">413.6960</td>
<td style="text-align: right;">420.3570</td>
<td style="text-align: right;">416.4232</td>
</tr>
<tr class="odd">
<td style="text-align: right;">2</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">405.0099</td>
<td style="text-align: right;">411.4891</td>
<td style="text-align: right;">407.8670</td>
</tr>
<tr class="even">
<td style="text-align: right;">2</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">423.9044</td>
<td style="text-align: right;">433.4754</td>
<td style="text-align: right;">429.2377</td>
</tr>
<tr class="odd">
<td style="text-align: right;">2</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">411.0795</td>
<td style="text-align: right;">419.0727</td>
<td style="text-align: right;">415.0795</td>
</tr>
<tr class="even">
<td style="text-align: right;">2</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">407.0239</td>
<td style="text-align: right;">414.7989</td>
<td style="text-align: right;">411.2239</td>
</tr>
<tr class="odd">
<td style="text-align: right;">2</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">425.8596</td>
<td style="text-align: right;">436.7980</td>
<td style="text-align: right;">433.0596</td>
</tr>
<tr class="even">
<td style="text-align: right;">2</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">413.0766</td>
<td style="text-align: right;">422.4020</td>
<td style="text-align: right;">418.6766</td>
</tr>
<tr class="odd">
<td style="text-align: right;">3</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">423.9406</td>
<td style="text-align: right;">433.5117</td>
<td style="text-align: right;">429.2739</td>
</tr>
<tr class="even">
<td style="text-align: right;">3</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">415.6154</td>
<td style="text-align: right;">423.6086</td>
<td style="text-align: right;">419.6154</td>
</tr>
<tr class="odd">
<td style="text-align: right;">3</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">406.9074</td>
<td style="text-align: right;">414.6824</td>
<td style="text-align: right;">411.1074</td>
</tr>
<tr class="even">
<td style="text-align: right;">3</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">426.0532</td>
<td style="text-align: right;">436.9916</td>
<td style="text-align: right;">433.2532</td>
</tr>
<tr class="odd">
<td style="text-align: right;">3</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">413.0776</td>
<td style="text-align: right;">422.4030</td>
<td style="text-align: right;">418.6776</td>
</tr>
<tr class="even">
<td style="text-align: right;">3</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">427.4187</td>
<td style="text-align: right;">439.7243</td>
<td style="text-align: right;">436.8923</td>
</tr>
<tr class="odd">
<td style="text-align: right;">4</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">425.4315</td>
<td style="text-align: right;">436.3699</td>
<td style="text-align: right;">432.6315</td>
</tr>
<tr class="even">
<td style="text-align: right;">4</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">415.1668</td>
<td style="text-align: right;">424.4922</td>
<td style="text-align: right;">420.7668</td>
</tr>
<tr class="odd">
<td style="text-align: right;">4</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">427.4290</td>
<td style="text-align: right;">439.7347</td>
<td style="text-align: right;">436.9027</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>From the table, we can see that p=2, q=2 is the best, which are different from my assumption. The reason is that although there are spike and great change at lag 1. For lag 2, it also have correpondsing spike and change. Therefore, the new parameter sets are reasonable.</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>  p d q      AIC      BIC    AICc
3 2 3 2 405.0099 411.4891 407.867</code></pre>
</div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>  p d q      AIC      BIC    AICc
3 2 3 2 405.0099 411.4891 407.867</code></pre>
</div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>  p d q      AIC      BIC    AICc
3 2 3 2 405.0099 411.4891 407.867</code></pre>
</div>
</div>
<p>In addition, we can see that for all AIC, BIC, and AICc values, these parameter sets are all the best.</p>
</section>
<section id="model-compare" class="level3">
<h3 class="anchored" data-anchor-id="model-compare">Model Compare</h3>
<p>Now, to be more specific, we compare the two different parameter sets: (2,3,2) and (1,3,2):</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="ARModels_files/figure-html/unnamed-chunk-22-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<p><img src="ARModels_files/figure-html/unnamed-chunk-23-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<p><img src="ARModels_files/figure-html/unnamed-chunk-24-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Here, we can see that the two fits are actuaclly simiarly within our expecations, but overall, the second fit is better as indicated from model diagoosis.</p>
</section>
<section id="forecasting-for-the-dataset-using-the-best-parameters" class="level3">
<h3 class="anchored" data-anchor-id="forecasting-for-the-dataset-using-the-best-parameters">Forecasting for the dataset using the best parameters</h3>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>   Point Forecast    Lo 80     Hi 80    Lo 95     Hi 95
31       4278.130 3813.470  4742.791 3567.493  4988.767
32       3458.665 2921.482  3995.847 2637.115  4280.215
33       5473.540 4496.374  6450.705 3979.094  6967.985
34       4679.682 3529.482  5829.881 2920.603  6438.760
35       6742.303 5099.447  8385.159 4229.772  9254.834
36       5988.600 4080.957  7896.243 3071.112  8906.088
37       8093.980 5637.246 10550.714 4336.729 11851.230
38       7382.141 4577.705 10186.577 3093.127 11671.156
39       9529.693 6118.454 12940.932 4312.654 14746.732
40       8859.921 5024.086 12695.756 2993.518 14726.325</code></pre>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<p><img src="ARModels_files/figure-html/unnamed-chunk-26-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>From the above graph, we can note that the forecasted number follows a pattern with time period from (28 to 30). This performance is not what was expected and, hence, it is possible that the models are not able to capture the underlying patterns in the data. However, the model did capture the upward trending and certain seasonality. This can be due to a variety of reasons, such as insufficient data and the models not being complex enough. Therefore, further action such as benchmarking should be made to compare the models to see if the model performs well.</p>
</section>
<section id="benchmark" class="level3">
<h3 class="anchored" data-anchor-id="benchmark">BENCHMARK</h3>
<p>Now for benchmarking, we compare the model with the base models such as meanf, naive model, and rwf model.</p>
<div class="cell">

</div>
<section id="the-meanf-model-with-residual-plot" class="level4">
<h4 class="anchored" data-anchor-id="the-meanf-model-with-residual-plot">The meanf model with residual plot</h4>
<div class="cell">
<div class="cell-output-display">
<p><img src="ARModels_files/figure-html/unnamed-chunk-28-1.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
    Ljung-Box test

data:  Residuals from Mean
Q* = 42.947, df = 6, p-value = 1.195e-07

Model df: 0.   Total lags used: 6</code></pre>
</div>
</div>
</section>
<section id="the-arima-model" class="level4">
<h4 class="anchored" data-anchor-id="the-arima-model">The Arima model</h4>
<div class="cell">
<div class="cell-output-display">
<p><img src="ARModels_files/figure-html/unnamed-chunk-29-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>Series: df$W398RC1A027NBEA 
ARIMA(0,1,1)(0,0,1)[4] 

Coefficients:
          ma1     sma1
      -0.2008  -0.0093
s.e.   0.1702   0.2238

sigma^2 = 111877:  log likelihood = -208.7
AIC=423.4   AICc=424.36   BIC=427.5

Training set error measures:
                   ME     RMSE      MAE      MPE    MAPE      MASE      ACF1
Training set 83.97069 317.3154 158.0274 3.851463 17.2448 0.9308784 -0.111543</code></pre>
</div>
</div>
<div class="cell">

</div>
</section>
<section id="accuracy-of-the-fitted-models" class="level4">
<h4 class="anchored" data-anchor-id="accuracy-of-the-fitted-models">Accuracy of the fitted models</h4>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>                   ME     RMSE      MAE       MPE     MAPE     MASE        ACF1
Training set 32.73409 312.2898 183.7851 -1.612877 23.50814 1.082607 -0.08540118</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Time Series:
Start = 31 
End = 50 
Frequency = 1 
 [1]  4278.130  3458.665  5473.540  4679.682  6742.303  5988.600  8093.980
 [8]  7382.141  9529.693  8859.921 11049.575 10421.894 12653.642 12068.054
[15] 14341.896 13798.400 16114.336 15612.934 17970.962 17511.654</code></pre>
</div>
</div>
</section>
<section id="accuracy-of-the-based-models" class="level4">
<h4 class="anchored" data-anchor-id="accuracy-of-the-based-models">Accuracy of the based models</h4>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>                        ME     RMSE      MAE       MPE     MAPE MASE
Training set -2.643441e-14 635.2356 470.2565 -51.63239 78.34547    1</code></pre>
</div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>                   ME     RMSE      MAE      MPE     MAPE MASE       ACF1
Training set 66.26655 330.1867 169.7616 2.867066 18.06051    1 -0.2730483</code></pre>
</div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>                        ME     RMSE      MAE       MPE     MAPE      MASE
Training set -2.350993e-14 323.4687 166.4792 -9.624318 20.73922 0.9806647
                   ACF1
Training set -0.2730483</code></pre>
</div>
</div>
<p>Based on the results, it is clear that the fitted model has the lowest error. our fitted model is performing better than these simple benchmark methods.</p>
<div class="cell">

</div>
<div class="cell">
<div class="cell-output-display">
<p><img src="ARModels_files/figure-html/unnamed-chunk-37-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<p><img src="ARModels_files/figure-html/unnamed-chunk-38-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Based on the plot, we can see that Our fit is better than the benchmark methods by capturing more about the seaonal pattern and trending.</p>
</section>
</section>
</section>
<section id="the-median-house-sale-price-data-analysis" class="level2">
<h2 class="anchored" data-anchor-id="the-median-house-sale-price-data-analysis">The Median House Sale Price Data Analysis</h2>
<p>Due to the differencing methods should be used when the dataset is not stationary. Here, as in EDA section, the House Sale Price data analysis provides results that this dataset is not stationary. To have a brief recap, I have provided the orginal dataset and the acf and pacf plots.</p>
<div class="cell">

</div>
<div class="cell">
<div class="cell-output-display">
<p><img src="ARModels_files/figure-html/unnamed-chunk-40-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<section id="acf-pacf-1" class="level3">
<h3 class="anchored" data-anchor-id="acf-pacf-1">ACF &amp; PACF</h3>
<div class="cell">
<div class="cell-output-display">
<p><img src="ARModels_files/figure-html/unnamed-chunk-41-1.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="ARModels_files/figure-html/unnamed-chunk-41-2.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>From here, we can see that the dataset has a correlation, which also means that it is not stationary. In order to prove this conclusion, we utilize the adf test to ensure the results are the same.</p>
</section>
<section id="validation-with-adf-test-1" class="level3">
<h3 class="anchored" data-anchor-id="validation-with-adf-test-1">Validation with ADF Test</h3>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>
    Augmented Dickey-Fuller Test

data:  df$MSPUS
Dickey-Fuller = -2.6866, Lag order = 6, p-value = 0.287
alternative hypothesis: stationary</code></pre>
</div>
</div>
<p>Based on the result, we can see that the p-value is greater than the thershold value, this means that we fail to reject the Null hypothesis. The time series dataset is not stationary.</p>
<p>Then, to explore more, we utilize detrended and log-transformation to see about the patterns</p>
</section>
<section id="detrended-and-log-transformed-1" class="level3">
<h3 class="anchored" data-anchor-id="detrended-and-log-transformed-1">Detrended and Log-transformed</h3>
<div class="cell">
<div class="cell-output-display">
<p><img src="ARModels_files/figure-html/unnamed-chunk-43-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<p><img src="ARModels_files/figure-html/unnamed-chunk-44-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>From here, we can see that after detrending and dfferencing, the household sale price remains fluctuations espectially during 2020 period, which could be the cause of the Covid-19. In addition, Log-transformed time series, in order to remove the hetroscadastisity, we can see that the trend remains. I think the reason is possibly because log-transformation can assuage issues related to non-constant variance, which means that the inherent trend within the data may persist.</p>
</section>
<section id="test-it-stationary-again-1" class="level3">
<h3 class="anchored" data-anchor-id="test-it-stationary-again-1">Test it stationary again</h3>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>
    Augmented Dickey-Fuller Test

data:  log_transformed_data$LogTransformed
Dickey-Fuller = -1.7007, Lag order = 6, p-value = 0.7017
alternative hypothesis: stationary</code></pre>
</div>
</div>
<p>After the detrending and transformating, we can see that it is still not statinary. Which means that further action still needs to be done. I utilize differencing methods.</p>
</section>
<section id="make-it-stationary-by-using-differencing-1" class="level3">
<h3 class="anchored" data-anchor-id="make-it-stationary-by-using-differencing-1">Make it Stationary by using differencing</h3>
<div class="cell">
<div class="cell-output-display">
<p><img src="ARModels_files/figure-html/unnamed-chunk-46-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>After the first order of differencing, we can see the changes regarding the plots as a whole.</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>
    Augmented Dickey-Fuller Test

data:  diff(df$MSPUS, differences = 1)
Dickey-Fuller = -6.3462, Lag order = 6, p-value = 0.01
alternative hypothesis: stationary</code></pre>
</div>
</div>
<p>We can see that, after differencing, the dataset becomes stationary. Now, we can fit into the model with different parameters.</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>
Autocorrelations of series 'diff_series', by lag

     0      1      2      3      4      5      6      7      8      9     10 
 1.000 -0.625  0.098  0.079 -0.054  0.021  0.024 -0.095  0.071  0.094 -0.222 
    11     12     13     14     15     16     17     18     19     20     21 
 0.106  0.112 -0.158  0.057  0.021 -0.059  0.114 -0.106 -0.050  0.225 -0.228 
    22     23 
 0.130 -0.083 </code></pre>
</div>
<div class="cell-output-display">
<p><img src="ARModels_files/figure-html/unnamed-chunk-48-1.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
Partial autocorrelations of series 'diff_series', by lag

     1      2      3      4      5      6      7      8      9     10     11 
-0.625 -0.481 -0.278 -0.165 -0.069  0.047 -0.070 -0.119  0.136 -0.028 -0.186 
    12     13     14     15     16     17     18     19     20     21     22 
 0.022  0.044 -0.013  0.008 -0.042  0.052  0.040 -0.118  0.082 -0.035  0.115 
    23 
-0.010 </code></pre>
</div>
<div class="cell-output-display">
<p><img src="ARModels_files/figure-html/unnamed-chunk-48-2.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>From the PACF plot, it seems that after the 1st lag, the correlation values drop into insignificance. Thus, we might consider p = 1 for the AR component. From the ACF plot you provided, the correlation seems to cut off after the 1st lag as well. Hence, you might consider q = 1 for the MA component. And we use d = 1 since we utilized third orders of differencing.</p>
</section>
<section id="fit-model-1" class="level3">
<h3 class="anchored" data-anchor-id="fit-model-1">Fit model</h3>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>Series: diff 
ARIMA(1,1,1) 

Coefficients:
         ar1      ma1
      0.0092  -0.9827
s.e.  0.0663   0.0133

sigma^2 = 46013474:  log likelihood = -2458.55
AIC=4923.1   AICc=4923.2   BIC=4933.54

Training set error measures:
                   ME     RMSE      MAE  MPE MAPE      MASE        ACF1
Training set 542.7894 6740.971 3865.506 -Inf  Inf 0.6808965 -0.01153987</code></pre>
</div>
</div>
</section>
<section id="equation-of-the-model-1" class="level3">
<h3 class="anchored" data-anchor-id="equation-of-the-model-1">Equation of the Model</h3>
<p>Given the specified values (p = 1), (q = 1), and (d = 1), we can write out the ARIMA(1,1,1) model equation using the general equation based on the results of the model:</p>
<p>[ X_t = c + <em>1X</em>{t-1} + <em>1a</em>{t-1} + <em>2a</em>{t-2} + a_t ]</p>
<p>In my case the third difference is represented as ( ^1 X_t = X_t + 0.0092X_{t-1} - 0.9827Y_{t-1} ). The ARIMA equation provided is built upon this differenced series.</p>
</section>
<section id="model-diagnostics-1" class="level3">
<h3 class="anchored" data-anchor-id="model-diagnostics-1">Model diagnostics</h3>
<div class="cell">
<div class="cell-output-display">
<p><img src="ARModels_files/figure-html/unnamed-chunk-50-1.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
arima(x = arma14, order = c(p, 1, q))

Coefficients:
          ma1
      -0.1934
s.e.   0.0098

sigma^2 estimated as 1.003:  log likelihood = -14202.07,  aic = 28408.15</code></pre>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<table class="table table-sm table-striped">
<thead>
<tr class="header">
<th style="text-align: right;">p</th>
<th style="text-align: right;">d</th>
<th style="text-align: right;">q</th>
<th style="text-align: right;">AIC</th>
<th style="text-align: right;">BIC</th>
<th style="text-align: right;">AICc</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">4938.630</td>
<td style="text-align: right;">4952.569</td>
<td style="text-align: right;">4938.799</td>
</tr>
<tr class="even">
<td style="text-align: right;">1</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">4923.100</td>
<td style="text-align: right;">4933.542</td>
<td style="text-align: right;">4923.202</td>
</tr>
<tr class="odd">
<td style="text-align: right;">1</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">4976.098</td>
<td style="text-align: right;">4986.528</td>
<td style="text-align: right;">4976.200</td>
</tr>
<tr class="even">
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">4937.123</td>
<td style="text-align: right;">4954.547</td>
<td style="text-align: right;">4937.379</td>
</tr>
<tr class="odd">
<td style="text-align: right;">1</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">4924.722</td>
<td style="text-align: right;">4938.645</td>
<td style="text-align: right;">4924.892</td>
</tr>
<tr class="even">
<td style="text-align: right;">1</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">4915.708</td>
<td style="text-align: right;">4929.614</td>
<td style="text-align: right;">4915.879</td>
</tr>
<tr class="odd">
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">4921.957</td>
<td style="text-align: right;">4942.866</td>
<td style="text-align: right;">4922.316</td>
</tr>
<tr class="even">
<td style="text-align: right;">1</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">4926.078</td>
<td style="text-align: right;">4943.482</td>
<td style="text-align: right;">4926.335</td>
</tr>
<tr class="odd">
<td style="text-align: right;">1</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">4918.622</td>
<td style="text-align: right;">4936.004</td>
<td style="text-align: right;">4918.879</td>
</tr>
<tr class="even">
<td style="text-align: right;">2</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">4938.832</td>
<td style="text-align: right;">4956.256</td>
<td style="text-align: right;">4939.087</td>
</tr>
<tr class="odd">
<td style="text-align: right;">2</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">4933.117</td>
<td style="text-align: right;">4947.039</td>
<td style="text-align: right;">4933.287</td>
</tr>
<tr class="even">
<td style="text-align: right;">2</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">4931.865</td>
<td style="text-align: right;">4945.771</td>
<td style="text-align: right;">4932.036</td>
</tr>
<tr class="odd">
<td style="text-align: right;">2</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">4918.505</td>
<td style="text-align: right;">4939.414</td>
<td style="text-align: right;">4918.864</td>
</tr>
<tr class="even">
<td style="text-align: right;">2</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">4924.928</td>
<td style="text-align: right;">4942.331</td>
<td style="text-align: right;">4925.185</td>
</tr>
<tr class="odd">
<td style="text-align: right;">2</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">4923.269</td>
<td style="text-align: right;">4940.651</td>
<td style="text-align: right;">4923.526</td>
</tr>
<tr class="even">
<td style="text-align: right;">2</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">4918.739</td>
<td style="text-align: right;">4943.132</td>
<td style="text-align: right;">4919.219</td>
</tr>
<tr class="odd">
<td style="text-align: right;">2</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">4903.774</td>
<td style="text-align: right;">4924.657</td>
<td style="text-align: right;">4904.134</td>
</tr>
<tr class="even">
<td style="text-align: right;">2</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">4913.868</td>
<td style="text-align: right;">4934.727</td>
<td style="text-align: right;">4914.230</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>From the table, we can see that p=2, q=2 is the best, which are different from my assumption. The reason is that although there are spike and great change at lag 1. For lag 2, it also have correpondsing spike and change. In addition, since we used first order differencing, the value for d is not the same. By using higher d, the dataset can be more stationary for the model but has the potential of over differencing. Therefore, the new parameter sets are reasonable as well as the initial assumption.</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>   p d q      AIC      BIC     AICc
17 2 2 3 4903.774 4924.657 4904.134</code></pre>
</div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>   p d q      AIC      BIC     AICc
17 2 2 3 4903.774 4924.657 4904.134</code></pre>
</div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>   p d q      AIC      BIC     AICc
17 2 2 3 4903.774 4924.657 4904.134</code></pre>
</div>
</div>
<p>Since we only used 1 differencing, we can see that for all AIC, BIC, and AICc values, these parameter sets are all the best.</p>
</section>
<section id="model-compare-1" class="level3">
<h3 class="anchored" data-anchor-id="model-compare-1">Model Compare</h3>
<p>Now, to be more specific, we compare the two different parameter sets: (2,2,3) and (1,1,1):</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="ARModels_files/figure-html/unnamed-chunk-55-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<p><img src="ARModels_files/figure-html/unnamed-chunk-56-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<p><img src="ARModels_files/figure-html/unnamed-chunk-57-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Here, we can see that the two fits are actuaclly simiarly within our expecations. The difference is that we used first order differencing but the model used second order.</p>
</section>
<section id="forecasting-for-the-dataset" class="level3">
<h3 class="anchored" data-anchor-id="forecasting-for-the-dataset">Forecasting for the dataset</h3>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>    Point Forecast    Lo 80    Hi 80    Lo 95    Hi 95
243       415627.1 406980.8 424273.4 402403.7 428850.4
244       415720.2 403091.1 428349.3 396405.7 435034.7
245       416226.1 400354.8 432097.4 391953.1 440499.2
246       417033.1 398322.0 435744.1 388416.9 445649.2
247       418059.5 396783.9 439335.2 385521.2 450597.8
248       419246.0 395615.0 442877.1 383105.4 455386.6
249       420549.3 394731.0 446367.6 381063.5 460035.0
250       421937.7 394071.9 449803.4 379320.7 464554.7
251       423388.1 393593.8 453182.5 377821.6 468954.7
252       424883.9 393263.4 456504.3 376524.6 473243.1
253       426412.6 393055.6 459769.6 375397.5 477427.7
254       427965.4 392950.6 462980.2 374415.0 481515.9
255       429535.8 392933.2 466138.3 373557.0 485514.5
256       431118.9 392991.1 469246.7 372807.5 489430.4
257       432711.4 393114.6 472308.3 372153.3 493269.6
258       434310.7 393295.7 475325.8 371583.7 497037.8
259       435915.0 393528.0 478302.1 371089.6 500740.4
260       437522.9 393806.0 481239.8 370663.7 504382.1
261       439133.4 394125.3 484141.5 370299.5 507967.4
262       440745.9 394482.2 487009.6 369991.7 511500.1
263       442359.7 394873.3 489846.2 369735.5 514984.0
264       443974.6 395296.0 492653.3 369527.0 518422.2
265       445590.3 395747.7 495432.8 369362.6 521817.9
266       447206.4 396226.4 498186.4 369239.2 525173.6
267       448823.0 396730.3 500915.7 369154.1 528491.9
268       450439.9 397257.7 503622.1 369104.7 531775.0
269       452056.9 397807.1 506306.8 369089.0 535024.9
270       453674.2 398377.3 508971.1 369104.9 538243.5
271       455291.5 398967.0 511616.0 369150.6 541432.4
272       456908.9 399575.2 514242.7 369224.5 544593.3
273       458526.4 400200.9 516851.9 369325.2 547727.6
274       460143.9 400843.2 519444.6 369451.3 550836.5
275       461761.5 401501.3 522021.6 369601.6 553921.4
276       463379.1 402174.5 524583.6 369774.8 556983.3
277       464996.6 402862.1 527131.2 369970.0 560023.3
278       466614.3 403563.4 529665.1 370186.3 563042.3
279       468231.9 404277.8 532185.9 370422.6 566041.2
280       469849.5 405004.8 534694.2 370678.1 569020.9
281       471467.1 405743.9 537190.4 370952.1 571982.2
282       473084.8 406494.5 539675.0 371243.8 574925.7
283       474702.4 407256.4 542148.4 371552.6 577852.2
284       476320.0 408028.9 544611.1 371877.8 580762.3
285       477937.7 408811.8 547063.6 372218.7 583656.6
286       479555.3 409604.6 549506.0 372574.9 586535.7
287       481172.9 410407.0 551938.8 372945.8 589400.0
288       482790.6 411218.8 554362.4 373330.9 592250.2
289       484408.2 412039.5 556776.9 373729.8 595086.6
290       486025.8 412868.9 559182.8 374141.9 597909.8
291       487643.5 413706.7 561580.3 374566.9 600720.1
292       489261.1 414552.6 563969.7 375004.3 603518.0</code></pre>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<p><img src="ARModels_files/figure-html/unnamed-chunk-59-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>From the above graph, we can note that the forecasting captures the trending very well. This performance is within expectation. Now, we can determine whether the fit is actually better than the base models through benchmarking.</p>
</section>
<section id="benchmark-1" class="level3">
<h3 class="anchored" data-anchor-id="benchmark-1">BENCHMARK</h3>
<p>Now for benchmarking, we compare the model with the base models such as meanf, naive model, and rwf model.</p>
<div class="cell">

</div>
<section id="the-meanf-model-with-residual-plot-1" class="level4">
<h4 class="anchored" data-anchor-id="the-meanf-model-with-residual-plot-1">The meanf model with residual plot</h4>
<div class="cell">
<div class="cell-output-display">
<p><img src="ARModels_files/figure-html/unnamed-chunk-61-1.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
    Ljung-Box test

data:  Residuals from Mean
Q* = 1986.7, df = 10, p-value &lt; 2.2e-16

Model df: 0.   Total lags used: 10</code></pre>
</div>
</div>
</section>
<section id="the-arima-model-1" class="level4">
<h4 class="anchored" data-anchor-id="the-arima-model-1">The Arima model</h4>
<div class="cell">
<div class="cell-output-display">
<p><img src="ARModels_files/figure-html/unnamed-chunk-62-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>Series: df$MSPUS 
ARIMA(0,1,1)(0,0,1)[4] 

Coefficients:
         ma1    sma1
      0.0210  0.1671
s.e.  0.0665  0.0793

sigma^2 = 47248340:  log likelihood = -2470.36
AIC=4946.73   AICc=4946.83   BIC=4957.18

Training set error measures:
                   ME     RMSE      MAE      MPE     MAPE      MASE        ACF1
Training set 1355.307 6831.004 4055.777 1.052941 2.484314 0.9922265 -0.04153127</code></pre>
</div>
</div>
<div class="cell">

</div>
</section>
<section id="accuracy-of-the-fitted-models-1" class="level4">
<h4 class="anchored" data-anchor-id="accuracy-of-the-fitted-models-1">Accuracy of the fitted models</h4>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>                   ME     RMSE      MAE        MPE     MAPE      MASE
Training set 2.720481 6690.746 3914.234 -0.9087146 2.734111 0.9575986
                    ACF1
Training set -0.05135495</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Time Series:
Start = 243 
End = 262 
Frequency = 1 
 [1] 415627.1 415720.2 416226.1 417033.1 418059.5 419246.0 420549.3 421937.7
 [9] 423388.1 424883.9 426412.6 427965.4 429535.8 431118.9 432711.4 434310.7
[17] 435915.0 437522.9 439133.4 440745.9</code></pre>
</div>
</div>
</section>
<section id="accuracy-of-the-based-models-1" class="level4">
<h4 class="anchored" data-anchor-id="accuracy-of-the-based-models-1">Accuracy of the based models</h4>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>                       ME     RMSE      MAE       MPE     MAPE MASE
Training set 3.001896e-12 110997.1 92601.82 -122.4252 153.9077    1</code></pre>
</div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>                   ME    RMSE      MAE    MPE     MAPE MASE      ACF1
Training set 1652.697 6932.02 4087.552 1.2553 2.554247    1 0.0208634</code></pre>
</div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>                        ME     RMSE      MAE       MPE     MAPE      MASE
Training set -4.089888e-12 6732.124 4019.955 -1.162417 2.944873 0.9834627
                  ACF1
Training set 0.0208634</code></pre>
</div>
</div>
<p>Based on the results, it is clear that the fitted model has the lowest error. our fitted model is performing better than these simple benchmark methods.</p>
<div class="cell">

</div>
<div class="cell">
<div class="cell-output-display">
<p><img src="ARModels_files/figure-html/unnamed-chunk-70-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<p><img src="ARModels_files/figure-html/unnamed-chunk-71-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Based on the plot, we can see that Our fit is better than the benchmark methods by capturing more about the trending pattern.</p>
</section>
</section>
</section>
<section id="references-and-codes" class="level1">
<h1>References and Codes</h1>
<ul>
<li>Codes: <a href="https://github.com/zy236yuz5/ANLY5600-TimeSeries">Rmd, Python &amp; Qmd</a></li>
<li>U.S. Bureau of Economic Analysis, Household saving [W398RC1A027NBEA], retrieved from FRED, Federal Reserve Bank of St.&nbsp;Louis; https://fred.stlouisfed.org/series/W398RC1A027NBEA, September 19, 2023.</li>
<li>U.S. Census Bureau, Real Median Household Income in the United States [MEHOINUSA672N], retrieved from FRED, Federal Reserve Bank of St.&nbsp;Louis; https://fred.stlouisfed.org/series/MEHOINUSA672N, September 19, 2023.</li>
<li>U.S. Bureau of Economic Analysis, Gross Domestic Product: Implicit Price Deflator [A191RI1Q225SBEA], retrieved from FRED, Federal Reserve Bank of St.&nbsp;Louis; https://fred.stlouisfed.org/series/A191RI1Q225SBEA, September 18, 2023.</li>
<li>Zillow Group. Accessed April 19, 2023. â€œZillow Research Data.â€ https://www.zillow.com/research/data/.</li>
</ul>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "î§‹";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>